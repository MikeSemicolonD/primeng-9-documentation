{"version":3,"sources":["webpack:///src/app/components/orderlist/orderlist.ts","webpack:///src/app/components/orderlist/public_api.ts"],"names":["OrderList","el","metaKeySelection","controlsPosition","filterMatchMode","selectionChange","trackBy","index","item","onReorder","onSelectionChange","onFilterEvent","_selection","val","ngAfterContentInit","templates","forEach","getType","itemTemplate","template","ngAfterViewChecked","movedUp","movedDown","listItems","find","listViewChild","nativeElement","listItem","length","scrollInView","_value","filterValue","filter","onItemClick","event","itemTouched","selectedIndex","findIndexInList","selection","selected","metaSelection","metaKey","ctrlKey","shiftKey","insertIntoOrderedArray","value","emit","originalEvent","onFilterKeyup","target","trim","toLocaleLowerCase","filterLocale","visibleOptions","searchFields","filterBy","split","isItemVisible","i","onItemTouchEnd","isSelected","moveUp","selectedItem","selectedItemIndex","movedItem","temp","moveTop","splice","unshift","scrollTop","moveDown","moveBottom","push","scrollHeight","onDragStart","dataTransfer","setData","blur","dragging","draggedItemIndex","onDragOver","dragOverItemIndex","preventDefault","onDragLeave","onDrop","dropIndex","reorderArray","onDragEnd","onListMouseMove","offsetY","getBoundingClientRect","top","document","body","bottomDiff","clientHeight","pageY","topDiff","onItemKeydown","currentTarget","which","nextItem","findNextItem","focus","prevItem","findPrevItem","nextElementSibling","hasClass","isHidden","previousElementSibling","Function","selector","changeDetection","Default","OrderListModule","imports","exports","declarations"],"mappings":"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","file":"default~components-inputnumber-inputnumberdemo-module~components-orderlist-orderlistdemo-module~comp~297f19b1-es5.js","sourcesContent":["import {NgModule,Component,ElementRef,AfterViewChecked,AfterContentInit,Input,Output,ContentChildren,QueryList,TemplateRef,EventEmitter,ViewChild,ChangeDetectionStrategy} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {ButtonModule} from 'primeng/button';\nimport {SharedModule,PrimeTemplate} from 'primeng/api';\nimport {DomHandler} from 'primeng/dom';\nimport {ObjectUtils} from 'primeng/utils';\nimport { FilterUtils } from 'primeng/utils';\n\n@Component({\n    selector: 'p-orderList',\n    template: `\n        <div [ngClass]=\"{'ui-orderlist ui-widget': true, 'ui-orderlist-controls-left': controlsPosition === 'left',\n                    'ui-orderlist-controls-right': controlsPosition === 'right'}\" [ngStyle]=\"style\" [class]=\"styleClass\">\n            <div class=\"ui-orderlist-controls\">\n                <button type=\"button\" pButton icon=\"pi pi-angle-up\" (click)=\"moveUp($event)\"></button>\n                <button type=\"button\" pButton icon=\"pi pi-angle-double-up\" (click)=\"moveTop($event)\"></button>\n                <button type=\"button\" pButton icon=\"pi pi-angle-down\" (click)=\"moveDown($event)\"></button>\n                <button type=\"button\" pButton icon=\"pi pi-angle-double-down\" (click)=\"moveBottom($event)\"></button>\n            </div>\n            <div class=\"ui-orderlist-list-container\">\n                <div class=\"ui-orderlist-caption ui-widget-header ui-corner-top\" *ngIf=\"header\">{{header}}</div>\n                <div class=\"ui-orderlist-filter-container ui-widget-content\" *ngIf=\"filterBy\">\n                    <input type=\"text\" role=\"textbox\" (keyup)=\"onFilterKeyup($event)\" class=\"ui-inputtext ui-widget ui-state-default ui-corner-all\" [attr.placeholder]=\"filterPlaceholder\" [attr.aria-label]=\"ariaFilterLabel\">\n                    <span class=\"ui-orderlist-filter-icon pi pi-search\"></span>\n                </div>\n                <ul #listelement class=\"ui-widget-content ui-orderlist-list ui-corner-bottom\" [ngStyle]=\"listStyle\" (dragover)=\"onListMouseMove($event)\">\n                    <ng-template ngFor [ngForTrackBy]=\"trackBy\" let-item [ngForOf]=\"value\" let-i=\"index\" let-l=\"last\">\n                        <li class=\"ui-orderlist-droppoint\" *ngIf=\"dragdrop && isItemVisible(item)\" (dragover)=\"onDragOver($event, i)\" (drop)=\"onDrop($event, i)\" (dragleave)=\"onDragLeave($event)\"\n                            [ngClass]=\"{'ui-orderlist-droppoint-highlight': (i === dragOverItemIndex)}\"></li>\n                        <li class=\"ui-orderlist-item\" tabindex=\"0\"\n                            [ngClass]=\"{'ui-state-highlight':isSelected(item)}\"\n                            (click)=\"onItemClick($event,item,i)\" (touchend)=\"onItemTouchEnd($event)\" (keydown)=\"onItemKeydown($event,item,i)\"\n                            [style.display]=\"isItemVisible(item) ? 'block' : 'none'\" role=\"option\" [attr.aria-selected]=\"isSelected(item)\"\n                            [draggable]=\"dragdrop\" (dragstart)=\"onDragStart($event, i)\" (dragend)=\"onDragEnd($event)\">\n                            <ng-container *ngTemplateOutlet=\"itemTemplate; context: {$implicit: item, index: i}\"></ng-container>\n                        </li>\n                        <li class=\"ui-orderlist-droppoint\" *ngIf=\"dragdrop && l\" (dragover)=\"onDragOver($event, i + 1)\" (drop)=\"onDrop($event, i + 1)\" (dragleave)=\"onDragLeave($event)\"\n                            [ngClass]=\"{'ui-orderlist-droppoint-highlight': (i + 1 === dragOverItemIndex)}\"></li>\n                    </ng-template>\n                </ul>\n            </div>\n        </div>\n    `,\n    changeDetection: ChangeDetectionStrategy.Default\n})\nexport class OrderList implements AfterViewChecked,AfterContentInit {\n\n    @Input() header: string;\n\n    @Input() style: any;\n\n    @Input() styleClass: string;\n\n    @Input() listStyle: any;\n\n    @Input() responsive: boolean;\n\n    @Input() filterBy: string;\n\n    @Input() filterPlaceholder: string;\n\n    @Input() filterLocale: string;\n\n    @Input() metaKeySelection: boolean = true;\n\n    @Input() dragdrop: boolean;\n\n    @Input() controlsPosition: string = 'left';\n\n    @Input() ariaFilterLabel: string;\n\n    @Input() filterMatchMode: string = \"contains\";\n\n    @Output() selectionChange: EventEmitter<any> = new EventEmitter();\n\n    @Input() trackBy: Function = (index: number, item: any) => item;\n\n    @Output() onReorder: EventEmitter<any> = new EventEmitter();\n\n    @Output() onSelectionChange: EventEmitter<any> = new EventEmitter();\n\n    @Output() onFilterEvent: EventEmitter<any> = new EventEmitter();\n\n    @ViewChild('listelement') listViewChild: ElementRef;\n\n    @ContentChildren(PrimeTemplate) templates: QueryList<any>;\n\n    public itemTemplate: TemplateRef<any>;\n\n    _selection: any[];\n\n    movedUp: boolean;\n\n    movedDown: boolean;\n\n    itemTouched: boolean;\n\n    draggedItemIndex: number;\n\n    dragOverItemIndex: number;\n\n    dragging: boolean;\n\n    public filterValue: string;\n\n    public visibleOptions: any[];\n\n    public _value: any[];\n\n    constructor(public el: ElementRef) {}\n\n    get selection(): any[] {\n        return this._selection;\n    }\n\n    @Input() set selection(val:any[]) {\n        this._selection = val;\n    }\n\n    ngAfterContentInit() {\n        this.templates.forEach((item) => {\n            switch(item.getType()) {\n                case 'item':\n                    this.itemTemplate = item.template;\n                break;\n\n                default:\n                    this.itemTemplate = item.template;\n                break;\n            }\n        });\n    }\n\n    ngAfterViewChecked() {\n        if (this.movedUp||this.movedDown) {\n            let listItems = DomHandler.find(this.listViewChild.nativeElement, 'li.ui-state-highlight');\n            let listItem;\n\n            if (listItems.length > 0) {\n                if (this.movedUp)\n                    listItem = listItems[0];\n                else\n                    listItem = listItems[listItems.length - 1];\n\n                DomHandler.scrollInView(this.listViewChild.nativeElement, listItem);\n            }\n            this.movedUp = false;\n            this.movedDown = false;\n        }\n    }\n\n    get value(): any[] {\n        return this._value;\n    }\n\n    @Input() set value(val:any[]) {\n        this._value = val;\n        if (this.filterValue) {\n            this.filter();\n        }\n    }\n\n    onItemClick(event, item, index) {\n        this.itemTouched = false;\n        let selectedIndex = ObjectUtils.findIndexInList(item, this.selection);\n        let selected = (selectedIndex != -1);\n        let metaSelection = this.itemTouched ? false : this.metaKeySelection;\n\n        if (metaSelection) {\n            let metaKey = (event.metaKey||event.ctrlKey||event.shiftKey);\n\n            if (selected && metaKey) {\n                this._selection = this._selection.filter((val, index) => index !== selectedIndex);\n            }\n            else {\n                this._selection = (metaKey) ? this._selection ? [...this._selection] : [] : [];\n                ObjectUtils.insertIntoOrderedArray(item, index, this._selection, this.value);\n            }\n        }\n        else {\n            if (selected) {\n                this._selection = this._selection.filter((val, index) => index !== selectedIndex);\n            }\n            else {\n                this._selection = this._selection ? [...this._selection] : [];\n                ObjectUtils.insertIntoOrderedArray(item, index, this._selection, this.value);\n            }\n        }\n\n        //binding\n        this.selectionChange.emit(this._selection);\n\n        //event\n        this.onSelectionChange.emit({originalEvent:event, value: this._selection});\n    }\n\n    onFilterKeyup(event) {\n        this.filterValue = event.target.value.trim().toLocaleLowerCase(this.filterLocale);\n        this.filter();\n\n        this.onFilterEvent.emit({\n            originalEvent: event,\n            value: this.visibleOptions\n        });\n    }\n\n    filter() {\n        let searchFields: string[] = this.filterBy.split(',');\n        this.visibleOptions = FilterUtils.filter(this.value, searchFields, this.filterValue, this.filterMatchMode, this.filterLocale);\n    }\n\n    isItemVisible(item: any): boolean {\n        if (this.filterValue && this.filterValue.trim().length) {\n            for (let i = 0; i < this.visibleOptions.length; i++) {\n                if (item == this.visibleOptions[i]) {\n                    return true;\n                }\n            }\n        }\n        else {\n            return true;\n        }\n    }\n\n    onItemTouchEnd(event) {\n        this.itemTouched = true;\n    }\n\n    isSelected(item: any) {\n        return ObjectUtils.findIndexInList(item, this.selection) != -1;\n    }\n\n    moveUp(event) {\n        if (this.selection) {\n            for (let i = 0; i < this.selection.length; i++) {\n                let selectedItem = this.selection[i];\n                let selectedItemIndex: number = ObjectUtils.findIndexInList(selectedItem, this.value);\n\n                if (selectedItemIndex != 0) {\n                    let movedItem = this.value[selectedItemIndex];\n                    let temp = this.value[selectedItemIndex-1];\n                    this.value[selectedItemIndex-1] = movedItem;\n                    this.value[selectedItemIndex] = temp;\n                }\n                else {\n                    break;\n                }\n            }\n\n            this.movedUp = true;\n            this.onReorder.emit(event);\n        }\n    }\n\n    moveTop(event) {\n        if (this.selection) {\n            for (let i = this.selection.length - 1; i >= 0; i--) {\n                let selectedItem = this.selection[i];\n                let selectedItemIndex: number = ObjectUtils.findIndexInList(selectedItem, this.value);\n\n                if (selectedItemIndex != 0) {\n                    let movedItem = this.value.splice(selectedItemIndex,1)[0];\n                    this.value.unshift(movedItem);\n                }\n                else {\n                    break;\n                }\n            }\n\n            this.onReorder.emit(event);\n            this.listViewChild.nativeElement.scrollTop = 0;\n        }\n    }\n\n    moveDown(event) {\n        if (this.selection) {\n            for (let i = this.selection.length - 1; i >= 0; i--) {\n                let selectedItem = this.selection[i];\n                let selectedItemIndex: number = ObjectUtils.findIndexInList(selectedItem, this.value);\n\n                if (selectedItemIndex != (this.value.length - 1)) {\n                    let movedItem = this.value[selectedItemIndex];\n                    let temp = this.value[selectedItemIndex+1];\n                    this.value[selectedItemIndex+1] = movedItem;\n                    this.value[selectedItemIndex] = temp;\n                }\n                else {\n                    break;\n                }\n            }\n\n            this.movedDown = true;\n            this.onReorder.emit(event);\n        }\n    }\n\n    moveBottom(event) {\n        if (this.selection) {\n            for (let i = 0; i < this.selection.length; i++) {\n                let selectedItem = this.selection[i];\n                let selectedItemIndex: number = ObjectUtils.findIndexInList(selectedItem, this.value);\n\n                if (selectedItemIndex != (this.value.length - 1)) {\n                    let movedItem = this.value.splice(selectedItemIndex,1)[0];\n                    this.value.push(movedItem);\n                }\n                else {\n                    break;\n                }\n            }\n\n            this.onReorder.emit(event);\n            this.listViewChild.nativeElement.scrollTop = this.listViewChild.nativeElement.scrollHeight;\n        }\n    }\n\n    onDragStart(event: DragEvent, index: number) {\n        event.dataTransfer.setData('text', 'b');    // For firefox\n        (<HTMLLIElement> event.target).blur();\n        this.dragging = true;\n        this.draggedItemIndex = index;\n    }\n\n    onDragOver(event: DragEvent, index: number) {\n        if (this.dragging && this.draggedItemIndex !== index && this.draggedItemIndex + 1 !== index) {\n            this.dragOverItemIndex = index;\n            event.preventDefault();\n        }\n    }\n\n    onDragLeave(event: DragEvent) {\n        this.dragOverItemIndex = null;\n    }\n\n    onDrop(event: DragEvent, index: number) {\n        let dropIndex = (this.draggedItemIndex > index) ? index : (index === 0) ? 0 : index - 1;\n        ObjectUtils.reorderArray(this.value, this.draggedItemIndex, dropIndex);\n        this.dragOverItemIndex = null;\n        this.onReorder.emit(event);\n        event.preventDefault();\n    }\n\n    onDragEnd(event: DragEvent) {\n        this.dragging = false;\n    }\n\n    onListMouseMove(event: MouseEvent) {\n        if (this.dragging) {\n            let offsetY = this.listViewChild.nativeElement.getBoundingClientRect().top + document.body.scrollTop;\n            let bottomDiff = (offsetY + this.listViewChild.nativeElement.clientHeight) - event.pageY;\n            let topDiff = (event.pageY - offsetY);\n            if (bottomDiff < 25 && bottomDiff > 0)\n                this.listViewChild.nativeElement.scrollTop += 15;\n            else if (topDiff < 25 && topDiff > 0)\n                this.listViewChild.nativeElement.scrollTop -= 15;\n        }\n    }\n\n    onItemKeydown(event: KeyboardEvent, item, index: Number) {\n        let listItem = <HTMLLIElement> event.currentTarget;\n\n        switch(event.which) {\n            //down\n            case 40:\n                var nextItem = this.findNextItem(listItem);\n                if (nextItem) {\n                    nextItem.focus();\n                }\n\n                event.preventDefault();\n            break;\n\n            //up\n            case 38:\n                var prevItem = this.findPrevItem(listItem);\n                if (prevItem) {\n                    prevItem.focus();\n                }\n\n                event.preventDefault();\n            break;\n\n            //enter\n            case 13:\n                this.onItemClick(event, item, index);\n                event.preventDefault();\n            break;\n        }\n    }\n\n    findNextItem(item) {\n        let nextItem = item.nextElementSibling;\n\n        if (nextItem)\n            return !DomHandler.hasClass(nextItem, 'ui-orderlist-item') || DomHandler.isHidden(nextItem) ? this.findNextItem(nextItem) : nextItem;\n        else\n            return null;\n    }\n\n    findPrevItem(item) {\n        let prevItem = item.previousElementSibling;\n\n        if (prevItem)\n            return !DomHandler.hasClass(prevItem, 'ui-orderlist-item') || DomHandler.isHidden(prevItem) ? this.findPrevItem(prevItem) : prevItem;\n        else\n            return null;\n    }\n}\n\n@NgModule({\n    imports: [CommonModule,ButtonModule,SharedModule],\n    exports: [OrderList,SharedModule],\n    declarations: [OrderList]\n})\nexport class OrderListModule { }\n","export * from './orderlist';"]}